@model ResultsViewModel

@* https://www.gov.uk/search *@

<div class="filter-form">
    <div class="inner-block">
        <div class="padded-filter checkbox-filter js-openable-filter" tabindex="0">
            <div class="head">
                <span class="legend">Subjects</span>
            </div>
            <div class="filter-options checkbox-container-noscroll" id="subject-filter">
                <ul>
                @if (Model.Subjects.Count() > 4) {
                    @foreach (var name in Model.Subjects.OrderBy(x => x.Name).Take(4).Select(x => x.Name)) {
                        <li>@name</li>
                    }
                    @if ((Model.Subjects.Count() - 4) == 1) {
                        <li class="last">and 1 other</li>
                    } else {
                        <li class="last">and @(Model.Subjects.Count() - 4) others</li>
                    }
                } else {
                    @foreach (var name in Model.Subjects.OrderBy(x => x.Name).Select(x => x.Name).Take(Model.Subjects.Count() - 1)) {
                        <li>@name</li>
                    }
                    <li>@Model.Subjects.OrderBy(x => x.Name).LastOrDefault().Name</li>
                }
                </ul>
            </div>
            <div class="filter-change">
            <a href='@Url.Action("Subject", "Filter", Model.FilterModel.ToRouteValues())'
               class="link">Change subjects</a>
            </div>
        </div>
    </div>
  </div>