@model QueryFilter

@{
    var sortByEnumType = typeof(SortByOption);
}

<div class="form-group">
    <form action='@Url.Action("SortBy", "Results", Model.ToRouteValues())' method="POST">
        <label class="form-label sortedby-label" for="sortby">Sorted by</label>
        <select class="form-control trigger-result-update sortby-selector"
                onchange="this.form.submit()"
                aria-label="Sort by"
                role="listbox"
                name="sortby"
                id="sortby">
            @foreach(SortByOption option in Model.ValidSortings)
            {
                if (option == Model.SortBy) {
                    <option value="@((int) option)" selected>@option.FormattedName()</option>
                }
                else {
                    <option value="@((int) option)">@option.FormattedName()</option>
                }
            }
        </select>
        <noscript>
            <input class="button" type="submit" value="Update" aria-label="Update sort order"/>
        </noscript>
    </form>
</div>